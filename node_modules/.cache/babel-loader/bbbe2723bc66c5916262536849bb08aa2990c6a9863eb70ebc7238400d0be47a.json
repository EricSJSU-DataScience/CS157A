{"ast":null,"code":"var _jsxFileName = \"D:\\\\environment\\\\project157_marketplace\\\\src\\\\components\\\\Review.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Review() {\n  _s();\n  // Temporarily hardcoded loggedInUserId for debugging\n  const loggedInUserId = 1;\n  const [reviews, setReviews] = useState([]);\n  const [rating, setRating] = useState(5);\n  const [reviewText, setReviewText] = useState('');\n  console.log('Rendering Review component. User ID:', loggedInUserId); // Debug log\n\n  useEffect(() => {\n    if (loggedInUserId) {\n      console.log('loggedInUserId is available:', loggedInUserId);\n      fetch(`http://localhost:5000/show-review/${loggedInUserId}`).then(res => res.json()).then(data => {\n        console.log('Reviews fetched:', data); // Log the received data\n        if (Array.isArray(data)) {\n          setReviews(data);\n        } else {\n          console.error('Unexpected response format:', data);\n          setReviews([]);\n        }\n      }).catch(err => {\n        console.error('Error fetching reviews:', err);\n        setReviews([]);\n      });\n    } else {\n      console.error('loggedInUserId is not defined yet');\n    }\n  }, [loggedInUserId]);\n  if (!loggedInUserId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Leave a Review\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), reviews.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No reviews to be completed.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this) : reviews.map(review => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: review.Product_Title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Order ID: \", review.Order_ID]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }, this), review.Review_Status === 'Pending' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rating (1-5):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: rating,\n          onChange: e => setRating(e.target.value),\n          min: \"1\",\n          max: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: reviewText,\n          onChange: e => setReviewText(e.target.value),\n          placeholder: \"Write your review...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => submitReview(review.Review_ID),\n          children: \"Submit Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Your Rating: \", review.Rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Your Review: \", review.Review_Text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true)]\n    }, review.Review_ID, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n_s(Review, \"clids7+9X+Quj8F55hKNH/B/wxo=\");\n_c = Review;\nexport default Review;\nvar _c;\n$RefreshReg$(_c, \"Review\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","Review","_s","loggedInUserId","reviews","setReviews","rating","setRating","reviewText","setReviewText","console","log","fetch","then","res","json","data","Array","isArray","error","catch","err","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","review","Product_Title","Order_ID","Review_Status","type","value","onChange","e","target","min","max","placeholder","onClick","submitReview","Review_ID","Rating","Review_Text","_c","$RefreshReg$"],"sources":["D:/environment/project157_marketplace/src/components/Review.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction Review() {\r\n    // Temporarily hardcoded loggedInUserId for debugging\r\n    const loggedInUserId = 1;\r\n\r\n    const [reviews, setReviews] = useState([]);\r\n    const [rating, setRating] = useState(5);\r\n    const [reviewText, setReviewText] = useState('');\r\n\r\n    console.log('Rendering Review component. User ID:', loggedInUserId); // Debug log\r\n\r\n    useEffect(() => {\r\n        if (loggedInUserId) {\r\n            console.log('loggedInUserId is available:', loggedInUserId);\r\n            fetch(`http://localhost:5000/show-review/${loggedInUserId}`)\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    console.log('Reviews fetched:', data); // Log the received data\r\n                    if (Array.isArray(data)) {\r\n                        setReviews(data);\r\n                    } else {\r\n                        console.error('Unexpected response format:', data);\r\n                        setReviews([]);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.error('Error fetching reviews:', err);\r\n                    setReviews([]);\r\n                });\r\n        } else {\r\n            console.error('loggedInUserId is not defined yet');\r\n        }\r\n    }, [loggedInUserId]);\r\n\r\n    if (!loggedInUserId) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Leave a Review</h2>\r\n            {reviews.length === 0 ? (\r\n                <p>No reviews to be completed.</p>\r\n            ) : (\r\n                reviews.map(review => (\r\n                    <div key={review.Review_ID}>\r\n                        <h3>{review.Product_Title}</h3>\r\n                        <p>Order ID: {review.Order_ID}</p>\r\n                        {review.Review_Status === 'Pending' ? (\r\n                            <>\r\n                                <label>Rating (1-5):</label>\r\n                                <input \r\n                                    type=\"number\" \r\n                                    value={rating} \r\n                                    onChange={(e) => setRating(e.target.value)} \r\n                                    min=\"1\" \r\n                                    max=\"5\" \r\n                                />\r\n                                <textarea \r\n                                    value={reviewText} \r\n                                    onChange={(e) => setReviewText(e.target.value)} \r\n                                    placeholder=\"Write your review...\" \r\n                                />\r\n                                <button onClick={() => submitReview(review.Review_ID)}>Submit Review</button>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <p>Your Rating: {review.Rating}</p>\r\n                                <p>Your Review: {review.Review_Text}</p>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                ))\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Review;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}