{"ast":null,"code":"var _jsxFileName = \"D:\\\\environment\\\\project157_marketplace\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  setLoggedInUserId\n}) {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const handleLogin = async e => {\n    e.preventDefault();\n    const response = await fetch('http://localhost:5000/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const result = await response.json();\n    if (response.ok) {\n      setLoggedInUserId(result.user.User_ID);\n      alert('Logged in successfully');\n    } else {\n      alert(result.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleLogin,\n    className: \"login-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"\\u7528\\u6237\\u540D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"username\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"Email\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/register\",\n        className: \"register-link\",\n        children: \"\\u6CE8\\u518C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"\\u5BC6\\u7801\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/forgot-password\",\n        className: \"forgot-link\",\n        children: \"\\u627E\\u56DE\\u5BC6\\u7801 \\u6216 \\u5B89\\u5168\\u63D0\\u95EE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"security-question\",\n        children: \"\\u5B89\\u5168\\u63D0\\u95EE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"security-question\",\n        value: securityQuestion,\n        onChange: e => setSecurityQuestion(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u5B89\\u5168\\u63D0\\u95EE (\\u672A\\u8BBE\\u7F6E\\u8BF7\\u5FFD\\u7565)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"question1\",\n          children: \"\\u95EE\\u9898 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"question2\",\n          children: \"\\u95EE\\u9898 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"auto-login\",\n        checked: autoLogin,\n        onChange: e => setAutoLogin(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"auto-login\",\n        children: \"\\u81EA\\u52A8\\u767B\\u9646\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"login-button\",\n      children: \"\\u767B\\u5F55\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"TSZhDBNy8CmbxXgprY/vvMmTG1Q=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Login","setLoggedInUserId","_s","email","setEmail","password","setPassword","handleLogin","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","result","json","ok","user","User_ID","alert","message","onSubmit","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","value","onChange","target","placeholder","required","href","securityQuestion","setSecurityQuestion","checked","autoLogin","setAutoLogin","_c","$RefreshReg$"],"sources":["D:/environment/project157_marketplace/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction Login({ setLoggedInUserId }) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        const response = await fetch('http://localhost:5000/login', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ email, password })\r\n        });\r\n        const result = await response.json();\r\n        if (response.ok) {\r\n            setLoggedInUserId(result.user.User_ID);\r\n            alert('Logged in successfully');\r\n        } else {\r\n            alert(result.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleLogin} className=\"login-form\">\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"username\">用户名</label>\r\n                <input\r\n                    type=\"email\"\r\n                    id=\"username\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"Email\"\r\n                    required\r\n                />\r\n                <a href=\"/register\" className=\"register-link\">注册</a>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"password\">密码</label>\r\n                <input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Password\"\r\n                    required\r\n                />\r\n                <a href=\"/forgot-password\" className=\"forgot-link\">找回密码 或 安全提问</a>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"security-question\">安全提问</label>\r\n                <select\r\n                    id=\"security-question\"\r\n                    value={securityQuestion}\r\n                    onChange={(e) => setSecurityQuestion(e.target.value)}\r\n                >\r\n                    <option value=\"\">安全提问 (未设置请忽略)</option>\r\n                    <option value=\"question1\">问题 1</option>\r\n                    <option value=\"question2\">问题 2</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    type=\"checkbox\"\r\n                    id=\"auto-login\"\r\n                    checked={autoLogin}\r\n                    onChange={(e) => setAutoLogin(e.target.checked)}\r\n                />\r\n                <label htmlFor=\"auto-login\">自动登陆</label>\r\n            </div>\r\n            <button type=\"submit\" className=\"login-button\">登录</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}